"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getUnsupportedTargets = getUnsupportedTargets;
exports.default = exports.targetMetadata = void 0;

var _data = _interopRequireDefault(require("caniuse-db/fulldata-json/data-2.0.json"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// $FlowFixMe: Flow import error
// HACK: modern targets should be determined once at runtime
const targetMetadata = {
  targets: ['chrome', 'firefox', 'opera', 'safari', 'ie', 'edge', 'ios_saf', 'op_mini', 'android', 'bb', 'op_mob', 'and_chr', 'and_ff', 'ie_mob', 'and_uc', 'samsung', 'baidu']
};
exports.targetMetadata = targetMetadata;
const targetNameMappings = {
  chrome: 'Chrome',
  firefox: 'Firefox',
  opera: 'Opera',
  baidu: 'Baidu',
  and_qq: 'QQ Browser',
  safari: 'Safari',
  android: 'Android Browser',
  ie: 'IE',
  edge: 'Edge',
  ios_saf: 'iOS Safari',
  op_mini: 'Opera Mini',
  bb: 'Blackberry Browser',
  op_mob: 'Opera Mobile',
  and_chr: 'Android Chrome',
  and_ff: 'Android Firefox',
  ie_mob: 'IE Mobile',
  and_uc: 'Android UC Browser',
  samsung: 'Samsung Browser'
};
/**
 * Take a target's id and return it's full name by using `targetNameMappings`
 * ex. {target: and_ff, version: 40} => 'Android FireFox 40'
 */

function formatTargetNames(target) {
  return `${targetNameMappings[target.target]} ${target.version}`;
}
/**
 * Check if a browser version is in the range format
 * ex. 10.0-10.2
 */


function versionIsRange(version) {
  return version.includes('-');
}
/**
 * Parse version from caniuse and compare with parsed version from browserslist.
 */


function compareRanges(targetVersion, statsVersion) {
  return targetVersion === parseFloat(statsVersion);
}
/*
 * Check the CanIUse database to see if targets are supported
 */


function canIUseIsNotSupported(node, {
  version,
  target,
  parsedVersion
}) {
  const {
    stats
  } = _data.default.data[node.caniuseId];
  const targetStats = stats[target];
  return versionIsRange(version) ? Object.keys(targetStats).some(statsVersion => versionIsRange(statsVersion) && compareRanges(parsedVersion, statsVersion) ? !targetStats[statsVersion].includes('y') : false) : targetStats[version] && !targetStats[version].includes('y');
}
/**
 * Return an array of all unsupported targets
 */


function getUnsupportedTargets(node, targets) {
  return targets.filter(target => canIUseIsNotSupported(node, target)).map(formatTargetNames);
}
/**
 * Check if the node has matching object or properties
 */


function isValid(node, eslintNode, targets) {
  switch (eslintNode.type) {
    case 'CallExpression':
    case 'NewExpression':
      if (!eslintNode.callee) return true;
      if (eslintNode.callee.name !== node.object) return true;
      break;

    case 'MemberExpression':
      // Pass tests if non-matching object or property
      if (!eslintNode.object || !eslintNode.property) return true;
      if (eslintNode.object.name !== node.object) return true; // If the property is missing from the rule, it means that only the
      // object is required to determine compatibility

      if (!node.property) break;
      if (eslintNode.property.name !== node.property) return true;
      break;

    default:
      return true;
  }

  return !getUnsupportedTargets(node, targets).length;
}

const CanIUseProvider = [// new ServiceWorker()
{
  caniuseId: 'serviceworkers',
  astNodeType: 'NewExpression',
  object: 'ServiceWorker'
}, {
  caniuseId: 'serviceworkers',
  astNodeType: 'MemberExpression',
  object: 'navigator',
  property: 'serviceWorker'
}, // document.querySelector()
{
  caniuseId: 'queryselector',
  astNodeType: 'MemberExpression',
  object: 'document',
  property: 'querySelector'
}, // IntersectionObserver
{
  caniuseId: 'intersectionobserver',
  astNodeType: 'NewExpression',
  object: 'IntersectionObserver'
}, // PaymentRequest
{
  caniuseId: 'payment-request',
  astNodeType: 'NewExpression',
  object: 'PaymentRequest'
}, // Promises
{
  caniuseId: 'promises',
  astNodeType: 'NewExpression',
  object: 'Promise'
}, {
  caniuseId: 'promises',
  astNodeType: 'MemberExpression',
  object: 'Promise',
  property: 'resolve'
}, {
  caniuseId: 'promises',
  astNodeType: 'MemberExpression',
  object: 'Promise',
  property: 'all'
}, {
  caniuseId: 'promises',
  astNodeType: 'MemberExpression',
  object: 'Promise',
  property: 'race'
}, {
  caniuseId: 'promises',
  astNodeType: 'MemberExpression',
  object: 'Promise',
  property: 'reject'
}, // fetch
{
  caniuseId: 'fetch',
  astNodeType: 'CallExpression',
  object: 'fetch'
}, // document.currentScript()
{
  caniuseId: 'document-currentscript',
  astNodeType: 'MemberExpression',
  object: 'document',
  property: 'currentScript'
}, // URL
{
  caniuseId: 'url',
  astNodeType: 'NewExpression',
  object: 'URL'
}, // URLSearchParams
{
  caniuseId: 'urlsearchparams',
  astNodeType: 'NewExpression',
  object: 'URLSearchParams'
}, // performance.now()
{
  caniuseId: 'high-resolution-time',
  astNodeType: 'MemberExpression',
  object: 'performance',
  property: 'now'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'TypedArray'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Int8Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Uint8Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Uint8ClampedArray'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Int16Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Uint16Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Int32Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Uint32Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Float32Array'
}, {
  caniuseId: 'typedarrays',
  astNodeType: 'NewExpression',
  object: 'Float64Array'
}].map(rule => Object.assign({}, rule, {
  isValid,
  getUnsupportedTargets,
  id: rule.property ? `${rule.object}.${rule.property}` : rule.object,
  protoChainId: rule.property ? `${rule.object}.${rule.property}` : rule.object,
  protoChain: rule.property ? [rule.object, rule.property] : [rule.object]
}));
var _default = CanIUseProvider;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcm92aWRlcnMvQ2FuSVVzZVByb3ZpZGVyLmpzIl0sIm5hbWVzIjpbInRhcmdldE1ldGFkYXRhIiwidGFyZ2V0cyIsInRhcmdldE5hbWVNYXBwaW5ncyIsImNocm9tZSIsImZpcmVmb3giLCJvcGVyYSIsImJhaWR1IiwiYW5kX3FxIiwic2FmYXJpIiwiYW5kcm9pZCIsImllIiwiZWRnZSIsImlvc19zYWYiLCJvcF9taW5pIiwiYmIiLCJvcF9tb2IiLCJhbmRfY2hyIiwiYW5kX2ZmIiwiaWVfbW9iIiwiYW5kX3VjIiwic2Ftc3VuZyIsImZvcm1hdFRhcmdldE5hbWVzIiwidGFyZ2V0IiwidmVyc2lvbiIsInZlcnNpb25Jc1JhbmdlIiwiaW5jbHVkZXMiLCJjb21wYXJlUmFuZ2VzIiwidGFyZ2V0VmVyc2lvbiIsInN0YXRzVmVyc2lvbiIsInBhcnNlRmxvYXQiLCJjYW5JVXNlSXNOb3RTdXBwb3J0ZWQiLCJub2RlIiwicGFyc2VkVmVyc2lvbiIsInN0YXRzIiwiY2FuaXVzZVJlY29yZHMiLCJkYXRhIiwiY2FuaXVzZUlkIiwidGFyZ2V0U3RhdHMiLCJPYmplY3QiLCJrZXlzIiwic29tZSIsImdldFVuc3VwcG9ydGVkVGFyZ2V0cyIsImZpbHRlciIsIm1hcCIsImlzVmFsaWQiLCJlc2xpbnROb2RlIiwidHlwZSIsImNhbGxlZSIsIm5hbWUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImxlbmd0aCIsIkNhbklVc2VQcm92aWRlciIsImFzdE5vZGVUeXBlIiwicnVsZSIsImFzc2lnbiIsImlkIiwicHJvdG9DaGFpbklkIiwicHJvdG9DaGFpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7OztBQURBO0FBbUJBO0FBQ08sTUFBTUEsY0FBOEIsR0FBRztBQUM1Q0MsRUFBQUEsT0FBTyxFQUFFLENBQ1AsUUFETyxFQUVQLFNBRk8sRUFHUCxPQUhPLEVBSVAsUUFKTyxFQUtQLElBTE8sRUFNUCxNQU5PLEVBT1AsU0FQTyxFQVFQLFNBUk8sRUFTUCxT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TCxHQUNULEdBQUVJLElBQUksQ0FBQ0wsTUFBTyxJQUFHSyxJQUFJLENBQUNKLFFBQVMsRUFEdEIsR0FFVkksSUFBSSxDQUFDTCxNQU5hO0FBT3RCUyxFQUFBQSxVQUFVLEVBQUVKLElBQUksQ0FBQ0osUUFBTCxHQUFnQixDQUFDSSxJQUFJLENBQUNMLE1BQU4sRUFBY0ssSUFBSSxDQUFDSixRQUFuQixDQUFoQixHQUErQyxDQUFDSSxJQUFJLENBQUNMLE1BQU47QUFQckMsQ0FBeEIsQ0FqSm1DLENBQXJDO2VBNEplRyxlIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbi8vICRGbG93Rml4TWU6IEZsb3cgaW1wb3J0IGVycm9yXG5pbXBvcnQgY2FuaXVzZVJlY29yZHMgZnJvbSAnY2FuaXVzZS1kYi9mdWxsZGF0YS1qc29uL2RhdGEtMi4wLmpzb24nO1xuaW1wb3J0IHR5cGUgeyBOb2RlLCBFU0xpbnROb2RlLCBUYXJnZXRzLCBUYXJnZXQgfSBmcm9tICcuLi9MaW50VHlwZXMnO1xuXG50eXBlIFRhcmdldE1ldGFkYXRhID0ge1xuICAvLyBUaGUgbGlzdCBvZiB0YXJnZXRzIHN1cHBvcnRlZCBieSB0aGUgcHJvdmlkZXJcbiAgdGFyZ2V0czogVGFyZ2V0c1xufTtcblxudHlwZSBDYW5JVXNlU3RhdHMgPSB7XG4gIFticm93c2VyOiBzdHJpbmddOiB7XG4gICAgW3ZlcnNpb246IHN0cmluZ106IHN0cmluZ1xuICB9XG59O1xuXG50eXBlIENhbklVc2VSZWNvcmRzID0ge1xuICBkYXRhOiBDYW5JVXNlU3RhdHNcbn07XG5cbi8vIEhBQ0s6IG1vZGVybiB0YXJnZXRzIHNob3VsZCBiZSBkZXRlcm1pbmVkIG9uY2UgYXQgcnVudGltZVxuZXhwb3J0IGNvbnN0IHRhcmdldE1ldGFkYXRhOiBUYXJnZXRNZXRhZGF0YSA9IHtcbiAgdGFyZ2V0czogW1xuICAgICdjaHJvbWUnLFxuICAgICdmaXJlZm94JyxcbiAgICAnb3BlcmEnLFxuICAgICdzYWZhcmknLFxuICAgICdpZScsXG4gICAgJ2VkZ2UnLFxuICAgICdpb3Nfc2FmJyxcbiAgICAnb3BfbWluaScsXG4gICAgJ2FuZHJvaWQnLFxuICAgICdiYicsXG4gICAgJ29wX21vYicsXG4gICAgJ2FuZF9jaHInLFxuICAgICdhbmRfZmYnLFxuICAgICdpZV9tb2InLFxuICAgICdhbmRfdWMnLFxuICAgICdzYW1zdW5nJyxcbiAgICAnYmFpZHUnXG4gIF1cbn07XG5cbmNvbnN0IHRhcmdldE5hbWVNYXBwaW5ncyA9IHtcbiAgY2hyb21lOiAnQ2hyb21lJyxcbiAgZmlyZWZveDogJ0ZpcmVmb3gnLFxuICBvcGVyYTogJ09wZXJhJyxcbiAgYmFpZHU6ICdCYWlkdScsXG4gIGFuZF9xcTogJ1FRIEJyb3dzZXInLFxuICBzYWZhcmk6ICdTYWZhcmknLFxuICBhbmRyb2lkOiAnQW5kcm9pZCBCcm93c2VyJyxcbiAgaWU6ICdJRScsXG4gIGVkZ2U6ICdFZGdlJyxcbiAgaW9zX3NhZjogJ2lPUyBTYWZhcmknLFxuICBvcF9taW5pOiAnT3BlcmEgTWluaScsXG4gIGJiOiAnQmxhY2tiZXJyeSBCcm93c2VyJyxcbiAgb3BfbW9iOiAnT3BlcmEgTW9iaWxlJyxcbiAgYW5kX2NocjogJ0FuZHJvaWQgQ2hyb21lJyxcbiAgYW5kX2ZmOiAnQW5kcm9pZCBGaXJlZm94JyxcbiAgaWVfbW9iOiAnSUUgTW9iaWxlJyxcbiAgYW5kX3VjOiAnQW5kcm9pZCBVQyBCcm93c2VyJyxcbiAgc2Ftc3VuZzogJ1NhbXN1bmcgQnJvd3Nlcidcbn07XG5cbi8qKlxuICogVGFrZSBhIHRhcmdldCdzIGlkIGFuZCByZXR1cm4gaXQncyBmdWxsIG5hbWUgYnkgdXNpbmcgYHRhcmdldE5hbWVNYXBwaW5nc2BcbiAqIGV4LiB7dGFyZ2V0OiBhbmRfZmYsIHZlcnNpb246IDQwfSA9PiAnQW5kcm9pZCBGaXJlRm94IDQwJ1xuICovXG5mdW5jdGlvbiBmb3JtYXRUYXJnZXROYW1lcyh0YXJnZXQ6IFRhcmdldCk6IHN0cmluZyB7XG4gIHJldHVybiBgJHt0YXJnZXROYW1lTWFwcGluZ3NbdGFyZ2V0LnRhcmdldF19ICR7dGFyZ2V0LnZlcnNpb259YDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGJyb3dzZXIgdmVyc2lvbiBpcyBpbiB0aGUgcmFuZ2UgZm9ybWF0XG4gKiBleC4gMTAuMC0xMC4yXG4gKi9cbmZ1bmN0aW9uIHZlcnNpb25Jc1JhbmdlKHZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmVyc2lvbi5pbmNsdWRlcygnLScpO1xufVxuXG4vKipcbiAqIFBhcnNlIHZlcnNpb24gZnJvbSBjYW5pdXNlIGFuZCBjb21wYXJlIHdpdGggcGFyc2VkIHZlcnNpb24gZnJvbSBicm93c2Vyc2xpc3QuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVSYW5nZXModGFyZ2V0VmVyc2lvbjogbnVtYmVyLCBzdGF0c1ZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdGFyZ2V0VmVyc2lvbiA9PT0gcGFyc2VGbG9hdChzdGF0c1ZlcnNpb24pO1xufVxuXG4vKlxuICogQ2hlY2sgdGhlIENhbklVc2UgZGF0YWJhc2UgdG8gc2VlIGlmIHRhcmdldHMgYXJlIHN1cHBvcnRlZFxuICovXG5mdW5jdGlvbiBjYW5JVXNlSXNOb3RTdXBwb3J0ZWQoXG4gIG5vZGU6IE5vZGUsXG4gIHsgdmVyc2lvbiwgdGFyZ2V0LCBwYXJzZWRWZXJzaW9uIH06IFRhcmdldFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgc3RhdHMgfSA9IChjYW5pdXNlUmVjb3JkczogQ2FuSVVzZVJlY29yZHMpLmRhdGFbbm9kZS5jYW5pdXNlSWRdO1xuICBjb25zdCB0YXJnZXRTdGF0cyA9IHN0YXRzW3RhcmdldF07XG4gIHJldHVybiB2ZXJzaW9uSXNSYW5nZSh2ZXJzaW9uKVxuICAgID8gT2JqZWN0LmtleXModGFyZ2V0U3RhdHMpLnNvbWUoKHN0YXRzVmVyc2lvbjogc3RyaW5nKTogYm9vbGVhbiA9PlxuICAgICAgICB2ZXJzaW9uSXNSYW5nZShzdGF0c1ZlcnNpb24pICYmXG4gICAgICAgIGNvbXBhcmVSYW5nZXMocGFyc2VkVmVyc2lvbiwgc3RhdHNWZXJzaW9uKVxuICAgICAgICAgID8gIXRhcmdldFN0YXRzW3N0YXRzVmVyc2lvbl0uaW5jbHVkZXMoJ3knKVxuICAgICAgICAgIDogZmFsc2VcbiAgICAgIClcbiAgICA6IHRhcmdldFN0YXRzW3ZlcnNpb25dICYmICF0YXJnZXRTdGF0c1t2ZXJzaW9uXS5pbmNsdWRlcygneScpO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBvZiBhbGwgdW5zdXBwb3J0ZWQgdGFyZ2V0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5zdXBwb3J0ZWRUYXJnZXRzKFxuICBub2RlOiBOb2RlLFxuICB0YXJnZXRzOiBUYXJnZXRzXG4pOiBBcnJheTxzdHJpbmc+IHtcbiAgcmV0dXJuIHRhcmdldHNcbiAgICAuZmlsdGVyKHRhcmdldCA9PiBjYW5JVXNlSXNOb3RTdXBwb3J0ZWQobm9kZSwgdGFyZ2V0KSlcbiAgICAubWFwKGZvcm1hdFRhcmdldE5hbWVzKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgbm9kZSBoYXMgbWF0Y2hpbmcgb2JqZWN0IG9yIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gaXNWYWxpZChcbiAgbm9kZTogTm9kZSxcbiAgZXNsaW50Tm9kZTogRVNMaW50Tm9kZSxcbiAgdGFyZ2V0czogVGFyZ2V0c1xuKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZXNsaW50Tm9kZS50eXBlKSB7XG4gICAgY2FzZSAnQ2FsbEV4cHJlc3Npb24nOlxuICAgIGNhc2UgJ05ld0V4cHJlc3Npb24nOlxuICAgICAgaWYgKCFlc2xpbnROb2RlLmNhbGxlZSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoZXNsaW50Tm9kZS5jYWxsZWUubmFtZSAhPT0gbm9kZS5vYmplY3QpIHJldHVybiB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTWVtYmVyRXhwcmVzc2lvbic6XG4gICAgICAvLyBQYXNzIHRlc3RzIGlmIG5vbi1tYXRjaGluZyBvYmplY3Qgb3IgcHJvcGVydHlcbiAgICAgIGlmICghZXNsaW50Tm9kZS5vYmplY3QgfHwgIWVzbGludE5vZGUucHJvcGVydHkpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKGVzbGludE5vZGUub2JqZWN0Lm5hbWUgIT09IG5vZGUub2JqZWN0KSByZXR1cm4gdHJ1ZTtcblxuICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmcgZnJvbSB0aGUgcnVsZSwgaXQgbWVhbnMgdGhhdCBvbmx5IHRoZVxuICAgICAgLy8gb2JqZWN0IGlzIHJlcXVpcmVkIHRvIGRldGVybWluZSBjb21wYXRpYmlsaXR5XG4gICAgICBpZiAoIW5vZGUucHJvcGVydHkpIGJyZWFrO1xuXG4gICAgICBpZiAoZXNsaW50Tm9kZS5wcm9wZXJ0eS5uYW1lICE9PSBub2RlLnByb3BlcnR5KSByZXR1cm4gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAhZ2V0VW5zdXBwb3J0ZWRUYXJnZXRzKG5vZGUsIHRhcmdldHMpLmxlbmd0aDtcbn1cblxuY29uc3QgQ2FuSVVzZVByb3ZpZGVyOiBBcnJheTxOb2RlPiA9IFtcbiAgLy8gbmV3IFNlcnZpY2VXb3JrZXIoKVxuICB7XG4gICAgY2FuaXVzZUlkOiAnc2VydmljZXdvcmtlcnMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnU2VydmljZVdvcmtlcidcbiAgfSxcbiAge1xuICAgIGNhbml1c2VJZDogJ3NlcnZpY2V3b3JrZXJzJyxcbiAgICBhc3ROb2RlVHlwZTogJ01lbWJlckV4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ25hdmlnYXRvcicsXG4gICAgcHJvcGVydHk6ICdzZXJ2aWNlV29ya2VyJ1xuICB9LFxuICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKClcbiAge1xuICAgIGNhbml1c2VJZDogJ3F1ZXJ5c2VsZWN0b3InLFxuICAgIGFzdE5vZGVUeXBlOiAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnZG9jdW1lbnQnLFxuICAgIHByb3BlcnR5OiAncXVlcnlTZWxlY3RvcidcbiAgfSxcbiAgLy8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAge1xuICAgIGNhbml1c2VJZDogJ2ludGVyc2VjdGlvbm9ic2VydmVyJyxcbiAgICBhc3ROb2RlVHlwZTogJ05ld0V4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ0ludGVyc2VjdGlvbk9ic2VydmVyJ1xuICB9LFxuICAvLyBQYXltZW50UmVxdWVzdFxuICB7XG4gICAgY2FuaXVzZUlkOiAncGF5bWVudC1yZXF1ZXN0JyxcbiAgICBhc3ROb2RlVHlwZTogJ05ld0V4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ1BheW1lbnRSZXF1ZXN0J1xuICB9LFxuICAvLyBQcm9taXNlc1xuICB7XG4gICAgY2FuaXVzZUlkOiAncHJvbWlzZXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnUHJvbWlzZSdcbiAgfSxcbiAge1xuICAgIGNhbml1c2VJZDogJ3Byb21pc2VzJyxcbiAgICBhc3ROb2RlVHlwZTogJ01lbWJlckV4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ1Byb21pc2UnLFxuICAgIHByb3BlcnR5OiAncmVzb2x2ZSdcbiAgfSxcbiAge1xuICAgIGNhbml1c2VJZDogJ3Byb21pc2VzJyxcbiAgICBhc3ROb2RlVHlwZTogJ01lbWJlckV4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ1Byb21pc2UnLFxuICAgIHByb3BlcnR5OiAnYWxsJ1xuICB9LFxuICB7XG4gICAgY2FuaXVzZUlkOiAncHJvbWlzZXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnUHJvbWlzZScsXG4gICAgcHJvcGVydHk6ICdyYWNlJ1xuICB9LFxuICB7XG4gICAgY2FuaXVzZUlkOiAncHJvbWlzZXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnUHJvbWlzZScsXG4gICAgcHJvcGVydHk6ICdyZWplY3QnXG4gIH0sXG4gIC8vIGZldGNoXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICdmZXRjaCcsXG4gICAgYXN0Tm9kZVR5cGU6ICdDYWxsRXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnZmV0Y2gnXG4gIH0sXG4gIC8vIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQoKVxuICB7XG4gICAgY2FuaXVzZUlkOiAnZG9jdW1lbnQtY3VycmVudHNjcmlwdCcsXG4gICAgYXN0Tm9kZVR5cGU6ICdNZW1iZXJFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdkb2N1bWVudCcsXG4gICAgcHJvcGVydHk6ICdjdXJyZW50U2NyaXB0J1xuICB9LFxuICAvLyBVUkxcbiAge1xuICAgIGNhbml1c2VJZDogJ3VybCcsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdVUkwnXG4gIH0sXG4gIC8vIFVSTFNlYXJjaFBhcmFtc1xuICB7XG4gICAgY2FuaXVzZUlkOiAndXJsc2VhcmNocGFyYW1zJyxcbiAgICBhc3ROb2RlVHlwZTogJ05ld0V4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ1VSTFNlYXJjaFBhcmFtcydcbiAgfSxcbiAgLy8gcGVyZm9ybWFuY2Uubm93KClcbiAge1xuICAgIGNhbml1c2VJZDogJ2hpZ2gtcmVzb2x1dGlvbi10aW1lJyxcbiAgICBhc3ROb2RlVHlwZTogJ01lbWJlckV4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ3BlcmZvcm1hbmNlJyxcbiAgICBwcm9wZXJ0eTogJ25vdydcbiAgfSxcbiAge1xuICAgIGNhbml1c2VJZDogJ3R5cGVkYXJyYXlzJyxcbiAgICBhc3ROb2RlVHlwZTogJ05ld0V4cHJlc3Npb24nLFxuICAgIG9iamVjdDogJ1R5cGVkQXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdJbnQ4QXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdVaW50OEFycmF5J1xuICB9LFxuICB7XG4gICAgY2FuaXVzZUlkOiAndHlwZWRhcnJheXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnVWludDhDbGFtcGVkQXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdJbnQxNkFycmF5J1xuICB9LFxuICB7XG4gICAgY2FuaXVzZUlkOiAndHlwZWRhcnJheXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnVWludDE2QXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdJbnQzMkFycmF5J1xuICB9LFxuICB7XG4gICAgY2FuaXVzZUlkOiAndHlwZWRhcnJheXMnLFxuICAgIGFzdE5vZGVUeXBlOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgb2JqZWN0OiAnVWludDMyQXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdGbG9hdDMyQXJyYXknXG4gIH0sXG4gIHtcbiAgICBjYW5pdXNlSWQ6ICd0eXBlZGFycmF5cycsXG4gICAgYXN0Tm9kZVR5cGU6ICdOZXdFeHByZXNzaW9uJyxcbiAgICBvYmplY3Q6ICdGbG9hdDY0QXJyYXknXG4gIH1cbl0ubWFwKHJ1bGUgPT5cbiAgT2JqZWN0LmFzc2lnbih7fSwgcnVsZSwge1xuICAgIGlzVmFsaWQsXG4gICAgZ2V0VW5zdXBwb3J0ZWRUYXJnZXRzLFxuICAgIGlkOiBydWxlLnByb3BlcnR5ID8gYCR7cnVsZS5vYmplY3R9LiR7cnVsZS5wcm9wZXJ0eX1gIDogcnVsZS5vYmplY3QsXG4gICAgcHJvdG9DaGFpbklkOiBydWxlLnByb3BlcnR5XG4gICAgICA/IGAke3J1bGUub2JqZWN0fS4ke3J1bGUucHJvcGVydHl9YFxuICAgICAgOiBydWxlLm9iamVjdCxcbiAgICBwcm90b0NoYWluOiBydWxlLnByb3BlcnR5ID8gW3J1bGUub2JqZWN0LCBydWxlLnByb3BlcnR5XSA6IFtydWxlLm9iamVjdF1cbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IENhbklVc2VQcm92aWRlcjtcbiJdfQ==